<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>solarnetwork-api-core</title><meta name="description" content="Documentation for solarnetwork-api-core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">solarnetwork-api-core</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>solarnetwork-api-core</h1></div><div class="tsd-panel tsd-typography"><h1 id="solarnetwork-core-api---javascript" class="tsd-anchor-link">SolarNetwork Core API - JavaScript<a href="#solarnetwork-core-api---javascript" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This project contains JavaScript code to help access the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/API-Developer-Guide">SolarNetwork API</a>.
To include the library in your NPM-based project, run the following:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">solarnetwork-api-core</span>
</code><button type="button">Copy</button></pre>

<h1 id="api-docs" class="tsd-anchor-link">API docs<a href="#api-docs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The latest API documentation is published <a href="https://solarnetwork.github.io/sn-api-core-js/">here</a>, or
you can build the API documentation by running the <code>apidoc</code> script:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">apidoc</span>
</code><button type="button">Copy</button></pre>

<p>That will produce HTML documentation in <code>docs/html</code>.</p>
<h1 id="example" class="tsd-anchor-link">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Here's an example use of the library, targeted for use in a browser using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> to
access the <a href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarQuery-Stream-API#datum-stream-reading-list">/datum/stream/reading</a> SolarNetwork API:</p>
<pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">Aggregations</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumFilter</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumReadingTypes</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/domain&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">AuthorizationV2Builder</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">HttpContentType</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">HttpHeaders</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">HttpMethod</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">SolarQueryApi</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/net&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">DatumStreamMetadataRegistry</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/util&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">datumForStreamData</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/util/datum&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// declare a basic &quot;datum&quot; interface for the data returned from SN</span><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-7">GeneralDatum</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Object</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">nodeId</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">	</span><span class="hl-4">sourceId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">	</span><span class="hl-4">date</span><span class="hl-1">: </span><span class="hl-7">Date</span><span class="hl-1">;</span><br/><span class="hl-1">	[</span><span class="hl-4">index</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">]: </span><span class="hl-7">any</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">/**</span><br/><span class="hl-5"> * Fetch hourly reading data for a datum stream using the stream API.</span><br/><span class="hl-5"> *</span><br/><span class="hl-5"> * </span><span class="hl-6">@param</span><span class="hl-5"> </span><span class="hl-4">nodeId</span><span class="hl-5"> - the node ID to fetch data for</span><br/><span class="hl-5"> * </span><span class="hl-6">@param</span><span class="hl-5"> </span><span class="hl-4">sourceId</span><span class="hl-5">  - the source ID to fetch data for</span><br/><span class="hl-5"> * </span><span class="hl-6">@param</span><span class="hl-5"> </span><span class="hl-4">startDate</span><span class="hl-5"> - the minimum date</span><br/><span class="hl-5"> * </span><span class="hl-6">@param</span><span class="hl-5"> </span><span class="hl-4">endDate</span><span class="hl-5"> - the maximum date</span><br/><span class="hl-5"> * </span><span class="hl-6">@param</span><span class="hl-5"> </span><span class="hl-4">token</span><span class="hl-5"> - the security token to authenticate with</span><br/><span class="hl-5"> * </span><span class="hl-6">@param</span><span class="hl-5"> </span><span class="hl-4">tokenSecret</span><span class="hl-5"> - the security token secret</span><br/><span class="hl-5"> * </span><span class="hl-6">@returns</span><span class="hl-5"> the data, as an array of general datum</span><br/><span class="hl-5"> */</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">fetchReadingDatumStream</span><span class="hl-1">(</span><br/><span class="hl-1">	</span><span class="hl-4">nodeId</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">sourceId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">startDate</span><span class="hl-1">: </span><span class="hl-7">Date</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">endDate</span><span class="hl-1">: </span><span class="hl-7">Date</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">token</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">tokenSecret</span><span class="hl-1">: </span><span class="hl-7">string</span><br/><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">GeneralDatum</span><span class="hl-1">[]&gt; {</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">filter</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">DatumFilter</span><span class="hl-1">();</span><br/><span class="hl-1">	</span><span class="hl-4">filter</span><span class="hl-1">.</span><span class="hl-4">aggregation</span><span class="hl-1"> = </span><span class="hl-4">Aggregations</span><span class="hl-1">.</span><span class="hl-4">Hour</span><span class="hl-1">;</span><br/><span class="hl-1">	</span><span class="hl-4">filter</span><span class="hl-1">.</span><span class="hl-4">nodeId</span><span class="hl-1"> = </span><span class="hl-4">nodeId</span><span class="hl-1">;</span><br/><span class="hl-1">	</span><span class="hl-4">filter</span><span class="hl-1">.</span><span class="hl-4">sourceId</span><span class="hl-1"> = </span><span class="hl-4">sourceId</span><span class="hl-1">;</span><br/><span class="hl-1">	</span><span class="hl-4">filter</span><span class="hl-1">.</span><span class="hl-4">startDate</span><span class="hl-1"> = </span><span class="hl-4">startDate</span><span class="hl-1">;</span><br/><span class="hl-1">	</span><span class="hl-4">filter</span><span class="hl-1">.</span><span class="hl-4">endDate</span><span class="hl-1"> = </span><span class="hl-4">endDate</span><span class="hl-1">;</span><br/><br/><span class="hl-1">	</span><span class="hl-5">// encode the URL request for the /datum/stream/reading API</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">urlHelper</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">SolarQueryApi</span><span class="hl-1">();</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">streamDataUrl</span><span class="hl-1"> = </span><span class="hl-4">urlHelper</span><span class="hl-1">.</span><span class="hl-0">streamReadingUrl</span><span class="hl-1">(</span><br/><span class="hl-1">		</span><span class="hl-4">DatumReadingTypes</span><span class="hl-1">.</span><span class="hl-4">Difference</span><span class="hl-1">,</span><br/><span class="hl-1">		</span><span class="hl-4">filter</span><br/><span class="hl-1">	);</span><br/><br/><span class="hl-1">	</span><span class="hl-5">// create URL and auth headers for API request</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">auth</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">AuthorizationV2Builder</span><span class="hl-1">(</span><span class="hl-4">token</span><span class="hl-1">);</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">authHeader</span><span class="hl-1"> = </span><span class="hl-4">auth</span><span class="hl-1">.</span><span class="hl-0">snDate</span><span class="hl-1">(</span><span class="hl-6">true</span><span class="hl-1">).</span><span class="hl-0">url</span><span class="hl-1">(</span><span class="hl-4">streamDataUrl</span><span class="hl-1">).</span><span class="hl-0">build</span><span class="hl-1">(</span><span class="hl-4">tokenSecret</span><span class="hl-1">);</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">headers</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Headers</span><span class="hl-1">({</span><br/><span class="hl-1">		</span><span class="hl-4">Authorization:</span><span class="hl-1"> </span><span class="hl-4">authHeader</span><span class="hl-1">,</span><br/><span class="hl-1">		</span><span class="hl-4">Accept:</span><span class="hl-1"> </span><span class="hl-4">HttpContentType</span><span class="hl-1">.</span><span class="hl-8">APPLICATION_JSON</span><span class="hl-1">,</span><br/><span class="hl-1">	});</span><br/><span class="hl-1">	</span><span class="hl-4">headers</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-4">HttpHeaders</span><span class="hl-1">.</span><span class="hl-8">X_SN_DATE</span><span class="hl-1">, </span><span class="hl-4">auth</span><span class="hl-1">.</span><span class="hl-4">requestDateHeaderValue</span><span class="hl-1">!);</span><br/><br/><span class="hl-1">	</span><span class="hl-5">// make API request and get response as JSON</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">res</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-4">streamDataUrl</span><span class="hl-1">, {</span><br/><span class="hl-1">		</span><span class="hl-4">method:</span><span class="hl-1"> </span><span class="hl-4">HttpMethod</span><span class="hl-1">.</span><span class="hl-8">GET</span><span class="hl-1">,</span><br/><span class="hl-1">		</span><span class="hl-4">headers:</span><span class="hl-1"> </span><span class="hl-4">headers</span><span class="hl-1">,</span><br/><span class="hl-1">	});</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">json</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">res</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">();</span><br/><br/><span class="hl-1">	</span><span class="hl-5">// convert stream result into GeneralDatum objects</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1">: </span><span class="hl-7">GeneralDatum</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">	</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">reg</span><span class="hl-1"> = </span><span class="hl-4">DatumStreamMetadataRegistry</span><span class="hl-1">.</span><span class="hl-0">fromJsonObject</span><span class="hl-1">(</span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">meta</span><span class="hl-1">);</span><br/><span class="hl-1">	</span><span class="hl-3">if</span><span class="hl-1"> (!</span><span class="hl-4">reg</span><span class="hl-1">) {</span><br/><span class="hl-1">		</span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-0">reject</span><span class="hl-1">(</span><span class="hl-2">&quot;JSON could not be parsed.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">	}</span><br/><span class="hl-1">	</span><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">data</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">		</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">meta</span><span class="hl-1"> = </span><span class="hl-4">reg</span><span class="hl-1">.</span><span class="hl-0">metadataAt</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">		</span><span class="hl-3">if</span><span class="hl-1"> (!</span><span class="hl-4">meta</span><span class="hl-1">) {</span><br/><span class="hl-1">			</span><span class="hl-3">continue</span><span class="hl-1">;</span><br/><span class="hl-1">		}</span><br/><span class="hl-1">		</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">d</span><span class="hl-1"> = </span><span class="hl-0">datumForStreamData</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">, </span><span class="hl-4">meta</span><span class="hl-1">)?.</span><span class="hl-0">toObject</span><span class="hl-1">();</span><br/><span class="hl-1">		</span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">d</span><span class="hl-1">) {</span><br/><span class="hl-1">			</span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-4">d</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-7">GeneralDatum</span><span class="hl-1">);</span><br/><span class="hl-1">		}</span><br/><span class="hl-1">	}</span><br/><span class="hl-1">	</span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-4">result</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h1 id="upgrading-from-1x" class="tsd-anchor-link">Upgrading from 1.x<a href="#upgrading-from-1x" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The 2.x version of this library has changed somewhat as the 1.x library was ported
to TypeScript and updated to ES2022. Most of the same classes and methods have
been preserved, but some things have moved namespaces. Thankfully the move to
TypeScript makes refactoring an application using the 1.x API pretty straightforward,
as your IDE can usually offer the correct <code>import</code> path to use for a given class.</p>
<p>For example, in the 1.x API you might have:</p>
<pre><code class="js"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">Aggregations</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">AuthorizationV2Builder</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumFilter</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumReadingTypes</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumStreamMetadataRegistry</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">NodeDatumUrlHelper</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">streamDatumUtils</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core&quot;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>Most of those exist in the 2.x API, just under different import paths:</p>
<pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">Aggregations</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumFilter</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">DatumReadingTypes</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/domain&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-4">AuthorizationV2Builder</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">SolarQueryApi</span><span class="hl-1">, </span><span class="hl-5">// &lt;-- this replaces the NodeDatumUrlHelper!</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/net&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">DatumStreamMetadataRegistry</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/util&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">datumForStreamData</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;solarnetwork-api-core/lib/util/datum&quot;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>One area that has changed somewhat significantly is the <code>net</code> namespace. The
various <code>*UrlHelper</code> classes have been reworked into <code>Solar*Api</code> classes, such
as <code>SolarQueryApi</code> and <code>SolarUserApi</code>. The methods offered on those classes
remain mostly the same as in the 1.x library, but be sure to confirm with
the API docs. Here again your IDE will generally be able to point out broken
API usage, thanks to the TypeScript definitions included in the library.</p>
<h1 id="building" class="tsd-anchor-link">Building<a href="#building" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The build uses <a href="https://www.npmjs.com/">NPM</a> and requires Node 17+. First, initialize the dependencies:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">ci</span>
</code><button type="button">Copy</button></pre>

<p>Then you can run the <code>build</code> script:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:dist</span>
</code><button type="button">Copy</button></pre>

<p>That will produce ES2022 modules with an entry point in <code>lib/index.js</code>.</p>
<p>You can also produce an ES2022 bundle by running <code>npm run build:bundle</code>. That will produce a single
bundled file at <code>lib/solarnetwork-api-core.es.js</code>.</p>
<p>You can also produce an CJS bundle by running <code>npm run build:bundle:cjs</code>. That will produce a single
bundled file at <code>lib/solarnetwork-api-core.es.cjs</code>.</p>
<h1 id="releases" class="tsd-anchor-link">Releases<a href="#releases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Releases are done using the gitflow branching model. Gitflow must be installed on your host system.
Then you can run</p>
<pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">release</span>
</code><button type="button">Copy</button></pre>

<p>to version, build, commit, and publish the release. See the <a href="https://github.com/mrkmg/node-generate-release">generate-release</a>
site for more information.</p>
<h1 id="unit-tests" class="tsd-anchor-link">Unit tests<a href="#unit-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The unit tests can be run by running the <code>test</code> script:</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<p>That will output the test results and produce a HTML code coverage report at <code>coverage/index.html</code>.</p>
<p><a href="https://codecov.io/gh/SolarNetwork/sn-api-core-js"><img src="https://codecov.io/gh/SolarNetwork/sn-api-core-js/graph/badge.svg?token=2YA6X8LUX7" alt="codecov"></a></p>
<p>Having a well-tested and reliable library is a core goal of this project. Unit tests are executed
automatically after every push into the <code>develop</code> branch of this repository and their associated code
coverage is uploaded to <a href="https://codecov.io/github/SolarNetwork/sn-api-core-js/">Codecov</a>.</p>
<p><a href="https://codecov.io/github/SolarNetwork/sn-api-core-js"><img src="https://codecov.io/gh/SolarNetwork/sn-api-core-js/graphs/sunburst.svg?token=2YA6X8LUX7" alt="codecov"></a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#solarnetwork-core-api---javascript"><span>Solar<wbr/>Network <wbr/>Core API -<wbr/> <wbr/>Java<wbr/>Script</span></a><a href="#api-docs"><span>API docs</span></a><a href="#example"><span>Example</span></a><a href="#upgrading-from-1x"><span>Upgrading from 1.x</span></a><a href="#building"><span>Building</span></a><a href="#releases"><span>Releases</span></a><a href="#unit-tests"><span>Unit tests</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">solarnetwork-api-core</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
