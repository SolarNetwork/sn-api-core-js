// https://github.com/SolarNetwork/sn-api-core-js Version 0.23.1-dev.0. Copyright 2021 SolarNetwork Foundation.
!function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? t(exports, require("d3-array"), require("d3-collection"), require("d3-time"), require("d3-time-format"), require("crypto-js/enc-base64"), require("crypto-js/enc-hex"), require("crypto-js/hmac-sha256"), require("crypto-js/sha256"), require("uri-js")) : "function" == typeof define && define.amd ? define([ "exports", "d3-array", "d3-collection", "d3-time", "d3-time-format", "crypto-js/enc-base64", "crypto-js/enc-hex", "crypto-js/hmac-sha256", "crypto-js/sha256", "uri-js" ], t) : t((e = e || self).sn = {}, e.d3, e.d3, e.d3, e.d3, e.CryptoJS.Base64, e.CryptoJS.Hex, e.CryptoJS.HmacSHA256, e.CryptoJS.SHA256, e.URI);
}(this, function(e, l, o, c, t, r, i, a, u, s) {
    "use strict";
    r = r && Object.prototype.hasOwnProperty.call(r, "default") ? r.default : r, i = i && Object.prototype.hasOwnProperty.call(i, "default") ? i.default : i, 
    a = a && Object.prototype.hasOwnProperty.call(a, "default") ? a.default : a, u = u && Object.prototype.hasOwnProperty.call(u, "default") ? u.default : u;
    var n = Object.freeze({
        timeNormalizeDataArray: function(e, t) {
            var n = 1e3 * t.level;
            if (!Array.isArray(e) || e.length < 2) return e;
            for (var r = 0; r < e.length - 1; ) {
                var i = e[r], a = i.date.getTime(), o = a + n, u = e[r + 1].date.getTime();
                if (o < u) {
                    for (var s = [ r + 1, 0 ], c = a + n; c < u; c += n) {
                        var l, h = Object.create(Object.getPrototypeOf(i), Object.getOwnPropertyDescriptors(i));
                        for (l in h) h[l] = null;
                        h.date = new Date(c), s.push(h);
                    }
                    Array.prototype.splice.apply(e, s), r += s.length;
                }
                r += 1;
            }
        }
    });
    function h(e) {
        return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e;
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
        })(e);
    }
    function f(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function d(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
            Object.defineProperty(e, r.key, r);
        }
    }
    function y(e, t, n) {
        return t && d(e.prototype, t), n && d(e, n), e;
    }
    function p(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && m(e, t);
    }
    function v(e) {
        return (v = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e);
        })(e);
    }
    function m(e, t) {
        return (m = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e;
        })(e, t);
    }
    function g(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e;
    }
    function k(n) {
        var r = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), 
                !0;
            } catch (e) {
                return !1;
            }
        }();
        return function() {
            var e, t = v(n);
            return e = r ? (e = v(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), 
            t = this, !(e = e) || "object" != typeof e && "function" != typeof e ? g(t) : e;
        };
    }
    function U(e, t, n) {
        return (U = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            e = function(e, t) {
                for (;!Object.prototype.hasOwnProperty.call(e, t) && null !== (e = v(e)); ) ;
                return e;
            }(e, t);
            if (e) {
                t = Object.getOwnPropertyDescriptor(e, t);
                return t.get ? t.get.call(n) : t.value;
            }
        })(e, t, n || e);
    }
    function b(e, t) {
        return function(e) {
            if (Array.isArray(e)) return e;
        }(e) || function(e, t) {
            if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return;
            var n = [], r = !0, i = !1, a = void 0;
            try {
                for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value), 
                !t || n.length !== t); r = !0) ;
            } catch (e) {
                i = !0, a = e;
            } finally {
                try {
                    r || null == u.return || u.return();
                } finally {
                    if (i) throw a;
                }
            }
            return n;
        }(e, t) || A(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
    }
    function A(e, t) {
        if (e) {
            if ("string" == typeof e) return w(e, t);
            var n = Object.prototype.toString.call(e).slice(8, -1);
            return "Map" === (n = "Object" === n && e.constructor ? e.constructor.name : n) || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? w(e, t) : void 0;
        }
    }
    function w(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
        return r;
    }
    function I(e, t) {
        var n;
        if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
            if (Array.isArray(e) || (n = A(e)) || t && e && "number" == typeof e.length) {
                n && (e = n);
                var r = 0, t = function() {};
                return {
                    s: t,
                    n: function() {
                        return r >= e.length ? {
                            done: !0
                        } : {
                            done: !1,
                            value: e[r++]
                        };
                    },
                    e: function(e) {
                        throw e;
                    },
                    f: t
                };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        var i, a = !0, o = !1;
        return {
            s: function() {
                n = e[Symbol.iterator]();
            },
            n: function() {
                var e = n.next();
                return a = e.done, e;
            },
            e: function(e) {
                o = !0, i = e;
            },
            f: function() {
                try {
                    a || null == n.return || n.return();
                } finally {
                    if (o) throw i;
                }
            }
        };
    }
    var S = function() {
        function t(e) {
            f(this, t), this._name = e, this.constructor === t && Object.freeze(this);
        }
        return y(t, [ {
            key: "name",
            get: function() {
                return this._name;
            }
        }, {
            key: "equals",
            value: function(e) {
                return this.constructor === e.constructor ? e.name === this.name : e === this.name;
            }
        } ], [ {
            key: "enumValues",
            value: function() {
                return [];
            }
        }, {
            key: "enumsValue",
            value: function(e) {
                return Object.freeze(e.reduce(function(e, t) {
                    return e[t.name] = t, e;
                }, {}));
            }
        }, {
            key: "valueOf",
            value: function(e) {
                var t = this.enumValues();
                if (Array.isArray(t)) for (var n = 0, r = t.length; n < r; n += 1) if (e === t[n].name) return t[n];
            }
        }, {
            key: "namesFor",
            value: function(e) {
                var t = [];
                if (e) {
                    var n = I(e);
                    try {
                        for (n.s(); !(r = n.n()).done; ) {
                            var r = r.value;
                            t.push(r.name);
                        }
                    } catch (e) {
                        n.e(e);
                    } finally {
                        n.f();
                    }
                }
                return t;
            }
        } ]), t;
    }(), D = function() {
        p(r, S);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (e = n.call(this, e))._value = t, e.constructor === r && Object.freeze(g(e)), 
            e;
        }
        return y(r, [ {
            key: "value",
            get: function() {
                return this._value;
            }
        }, {
            key: "compareTo",
            value: function(e) {
                return this.value < e.value ? -1 : this.value > e.value ? 1 : 0;
            }
        } ], [ {
            key: "minimumEnumSet",
            value: function(e, t) {
                if (!e) return null;
                if (n = t ? t.get(e.name) : void 0) return n;
                var n = new Set(), r = I(e.constructor.enumValues());
                try {
                    for (r.s(); !(i = r.n()).done; ) {
                        var i = i.value;
                        -1 < i.compareTo(e) && n.add(i);
                    }
                } catch (e) {
                    r.e(e);
                } finally {
                    r.f();
                }
                return t && t.set(e.name, n), 0 < n.size ? n : null;
            }
        } ]), r;
    }(), M = function() {
        p(r, D);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (t = n.call(this, e, t)).constructor === r && Object.freeze(g(t)), 
            t;
        }
        return y(r, [ {
            key: "level",
            get: function() {
                return this.value;
            }
        } ], [ {
            key: "enumValues",
            value: function() {
                return P;
            }
        } ]), r;
    }(), P = Object.freeze([ new M("Minute", 60), new M("FiveMinute", 300), new M("TenMinute", 600), new M("FifteenMinute", 900), new M("ThirtyMinute", 1800), new M("Hour", 3600), new M("HourOfDay", 3600), new M("SeasonalHourOfDay", 3600), new M("Day", 86400), new M("DayOfWeek", 86400), new M("SeasonalDayOfWeek", 86400), new M("Week", 604800), new M("WeekOfYear", 604800), new M("Month", 2419200), new M("Year", 31536e3), new M("RunningTotal", Number.MAX_SAFE_INTEGER) ]), T = M.enumsValue(P), O = t.utcFormat("%Y-%m-%d %H:%M:%S.%LZ"), N = t.utcFormat("%Y-%m-%d %H:%M"), C = t.utcFormat("%Y-%m-%dT%H:%M"), E = t.utcFormat("%Y-%m-%d"), H = t.utcParse("%Y-%m-%d %H:%M:%S.%LZ"), j = t.utcParse("%Y-%m-%d %H:%M");
    function _(e, t) {
        return e.getUTCFullYear() + (e.getUTCMonth() < 9 ? "0" : "") + (e.getUTCMonth() + 1) + (e.getUTCDate() < 10 ? "0" : "") + e.getUTCDate() + (t ? "T" + (e.getUTCHours() < 10 ? "0" : "") + e.getUTCHours() + (e.getUTCMinutes() < 10 ? "0" : "") + e.getUTCMinutes() + (e.getUTCSeconds() < 10 ? "0" : "") + e.getUTCSeconds() + "Z" : "");
    }
    function R(e) {
        return e ? e.date || (e.localDate ? j(e.localDate + (e.localTime ? " " + e.localTime : " 00:00")) : e.created ? H(e.created) || t.isoParse(e.created) : void 0) : null;
    }
    var x = Object.freeze({
        datumDate: R,
        rollingQueryDateRange: function(e, t, n) {
            function r(e, t) {
                var n = e.ceil(t);
                return n = n.getTime() === t.getTime() ? e.offset(n, 1) : n;
            }
            function i(e) {
                e = isNaN(Number(t)) ? void 0 !== t[e] ? Number(t[e]) : 1 : t;
                return e = "number" != typeof e ? 1 : e;
            }
            var a, o, u, s;
            return n = n || new Date(), {
                start: e.compareTo(T.Hour) < 0 ? (a = i("numHours"), o = T.Hour, u = r(c.utcMinute, n), 
                s = Math.min(30, e.level / 60), u.setUTCMinutes(u.getUTCMinutes() + s - u.getUTCMinutes() % s, 0, 0), 
                c.utcHour.offset(u, -a)) : T.Month.equals(e) ? (a = i("numYears"), o = T.Year, u = r(c.utcMonth, n), 
                c.utcYear.offset(c.utcMonth.floor(n), -a)) : T.Day.equals(e) ? (a = i("numMonths"), 
                o = T.Month, u = r(c.utcDay, n), c.utcMonth.offset(c.utcDay.floor(n), -a)) : (a = i("numDays"), 
                o = T.Day, u = r(c.utcHour, n), c.utcDay.offset(c.utcHour.floor(u), -a)),
                end: u,
                timeUnit: o,
                timeCount: a,
                aggregate: e
            };
        }
    });
    function L(e, t, n) {
        var r, i, a, o, u, s = 0, c = e.length - 1;
        if (0 < c) for (;s < l.max(e.map(function(e) {
            return e.values.length;
        })); ) {
            for (a = void 0, r = 0; r <= c; r++) if (!(e[r].values.length <= s) && (e[i = r < c ? r + 1 : 0].values.length <= s || e[r].values[s].date.getTime() < e[i].values[s].date.getTime())) {
                if (a = {
                    date: e[r].values[s].date,
                    sourceId: e[i].key
                }, t) for (o in t) t.hasOwnProperty(o) && (a[o] = t[o]);
                n && (u = e[i].values.length > s ? s : 0 < s ? s - 1 : null, n(a, e[i].key, null !== u ? e[i].values[u] : void 0)), 
                e[i].values.splice(s, 0, a);
            }
            void 0 === a && s++;
        }
    }
    var z = Object.freeze({
        aggregateNestedDataLayers: function(e, t, n, r, i) {
            var a, o, u, s, c, l, h, f = e.length, d = n ? n.length : 0, y = r ? r.length : 0, p = e[0].values.length;
            if (0 < p) {
                for (h = [], a = 0; a < p; a += 1) {
                    if (s = e[0].values[a], l = {}, void 0 !== i) for (c in i) i.hasOwnProperty(c) && (l[c] = i[c]);
                    for (u = 0; u < d; u += 1) l[n[u]] = s[n[u]];
                    for (u = 0; u < y; u += 1) l[r[u]] = 0;
                    for (o = 0; o < f; o += 1) for (u = 0; u < y; u += 1) void 0 !== (c = e[o].values[a][r[u]]) && (l[r[u]] += c);
                    h.push(l);
                }
                e = [ {
                    key: t,
                    values: h
                } ];
            }
            return e;
        },
        groupedBySourceMetricDataArray: function(e, t, r, n) {
            function i(e) {
                return e[t];
            }
            var a = "function" == typeof n ? n : l.sum;
            return L(e = o.nest().key(function(e) {
                return r && r.has(e.sourceId) ? r.get(e.sourceId) : e.sourceId;
            }).sortKeys(l.ascending).key(function(e) {
                return e.localDate + " " + e.localTime;
            }).rollup(function(e) {
                var t = {
                    date: R(e[0])
                }, n = e[0].sourceId;
                return t[n = r && r.has(n) ? r.get(n) : n] = a(e, i), t;
            }).entries(e).map(function(e) {
                return {
                    key: e.key,
                    values: e.values.map(function(e) {
                        return e.value;
                    })
                };
            }), null, function(e, t) {
                e[t] = null;
            }), e.reduce(function(e, n) {
                return e ? (e.forEach(function(e, t) {
                    t = n.values[t][n.key];
                    e[n.key] = t;
                }), e) : n.values;
            }, null);
        },
        normalizeNestedStackDataByDate: L
    }), F = function() {
        p(n, S);
        var t = k(n);
        function n(e) {
            return f(this, n), (e = t.call(this, e)).constructor === n && Object.freeze(g(e)), 
            e;
        }
        return y(n, null, [ {
            key: "enumValues",
            value: function() {
                return q;
            }
        } ]), n;
    }(), q = Object.freeze([ new F("Active"), new F("Disabled") ]), V = F.enumsValue(q), W = function() {
        p(n, S);
        var t = k(n);
        function n(e) {
            return f(this, n), (e = t.call(this, e)).constructor === n && Object.freeze(g(e)), 
            e;
        }
        return y(n, null, [ {
            key: "enumValues",
            value: function() {
                return B;
            }
        } ]), n;
    }(), B = Object.freeze([ new W("ReadNodeData"), new W("User") ]), K = W.enumsValue(B), Q = function() {
        p(n, S);
        var t = k(n);
        function n(e) {
            return f(this, n), (e = t.call(this, e)).constructor === n && Object.freeze(g(e)), 
            e;
        }
        return y(n, null, [ {
            key: "enumValues",
            value: function() {
                return Y;
            }
        } ]), n;
    }(), Y = Object.freeze([ new Q("Average"), new Q("Sum"), new Q("Difference") ]), G = Q.enumsValue(Y), J = function() {
        p(n, S);
        var t = k(n);
        function n(e) {
            return f(this, n), (e = t.call(this, e)).constructor === n && Object.freeze(g(e)), 
            e;
        }
        return y(n, null, [ {
            key: "enumValues",
            value: function() {
                return X;
            }
        } ]), n;
    }(), X = Object.freeze([ new J("Reset") ]), Z = J.enumsValue(X), $ = function() {
        function n(e, t) {
            f(this, n), this._max = 0 < e ? +e : 0, this._offset = 0 < t ? +t : 0;
        }
        return y(n, [ {
            key: "max",
            get: function() {
                return this._max;
            }
        }, {
            key: "offset",
            get: function() {
                return this._offset;
            }
        }, {
            key: "withOffset",
            value: function(e) {
                return new n(this.max, e);
            }
        }, {
            key: "toUriEncoding",
            value: function() {
                var e = "";
                return 0 < this.max && (e += "max=" + this.max), 0 < this.offset && (0 < e.length && (e += "&"), 
                e += "offset=" + this.offset), e;
            }
        } ]), n;
    }(), ee = function() {
        function n(e, t) {
            f(this, n), this._key = e, this._descending = !!t;
        }
        return y(n, [ {
            key: "key",
            get: function() {
                return this._key;
            }
        }, {
            key: "descending",
            get: function() {
                return this._descending;
            }
        }, {
            key: "toUriEncoding",
            value: function(e, t) {
                var n = t || "sorts", t = void 0 !== e && 0 <= e ? encodeURIComponent(n + "[" + e + "].key") + "=" : "key=";
                return t += encodeURIComponent(this.key), this.descending && (t += void 0 !== e && 0 <= e ? "&" + encodeURIComponent(n + "[" + e + "].descending") + "=true" : "&descending=true"), 
                t;
            }
        } ]), n;
    }(), te = function() {
        function t(e) {
            f(this, t), this.props = e instanceof t ? e.properties() : "object" === h(e) ? e : {};
        }
        return y(t, [ {
            key: "prop",
            value: function(e, t) {
                return 1 === arguments.length ? this.props[e] : (null === t ? delete this.props[e] : this.props[e] = t, 
                this);
            }
        }, {
            key: "properties",
            value: function(e) {
                if (e) {
                    for (var t = 0, n = Object.keys(e); t < n.length; t++) {
                        var r = n[t];
                        this.prop(r, e[r]);
                    }
                    return this;
                }
                return Object.assign({}, this.props);
            }
        }, {
            key: "toUriEncoding",
            value: function(i, a) {
                for (var o = this, u = "", s = 0, c = Object.keys(this.props); s < c.length; s++) (function() {
                    var n = c[s];
                    0 < u.length && (u += "&");
                    var e = o.props[n], r = !1;
                    if (a) {
                        var t = a(n, e);
                        if (null === t) return;
                        Array.isArray(t) && 1 < t.length && (n = t[0], e = t[1], 2 < t.length && (r = !!t[2]));
                    }
                    if ("function" == typeof e.toUriEncoding) return u += e.toUriEncoding(i ? encodeURIComponent(i) + "." + n : n);
                    i && (u += encodeURIComponent(i) + "."), u += encodeURIComponent(n) + "=", Array.isArray(e) ? e.forEach(function(e, t) {
                        0 < t && (u += r ? "&" + encodeURIComponent(n) + "=" : ","), e instanceof S && (e = e.name), 
                        u += encodeURIComponent(e);
                    }) : (e instanceof S && (e = e.name), u += encodeURIComponent(e));
                })();
                return u;
            }
        }, {
            key: "toUriEncodingWithSorting",
            value: function(e, t, n, r) {
                var i = this.toUriEncoding(n, r);
                return Array.isArray(e) && e.forEach(function(e, t) {
                    e instanceof ee && (0 < i.length && (i += "&"), i += e.toUriEncoding(t));
                }), t instanceof $ && ((t = t.toUriEncoding()) && (0 < i.length && (i += "&"), i += t)), 
                i;
            }
        } ]), t;
    }(), ne = "country", re = "elevation", ie = "latitude", ae = "locality", oe = "longitude", ue = "postalCode", se = "stateOrProvince", ce = "timeZoneId", le = function() {
        p(n, te);
        var t = k(n);
        function n(e) {
            return f(this, n), t.call(this, e);
        }
        return y(n, [ {
            key: "id",
            get: function() {
                return this.prop("id");
            },
            set: function(e) {
                this.prop("id", e);
            }
        }, {
            key: "name",
            get: function() {
                return this.prop("name");
            },
            set: function(e) {
                this.prop("name", e);
            }
        }, {
            key: "country",
            get: function() {
                return this.prop(ne);
            },
            set: function(e) {
                this.prop(ne, e);
            }
        }, {
            key: "region",
            get: function() {
                return this.prop("region");
            },
            set: function(e) {
                this.prop("region", e);
            }
        }, {
            key: "stateOrProvince",
            get: function() {
                return this.prop(se);
            },
            set: function(e) {
                this.prop(se, e);
            }
        }, {
            key: "locality",
            get: function() {
                return this.prop(ae);
            },
            set: function(e) {
                this.prop(ae, e);
            }
        }, {
            key: "postalCode",
            get: function() {
                return this.prop(ue);
            },
            set: function(e) {
                this.prop(ue, e);
            }
        }, {
            key: "street",
            get: function() {
                return this.prop("street");
            },
            set: function(e) {
                this.prop("street", e);
            }
        }, {
            key: "latitude",
            get: function() {
                return this.prop(ie);
            },
            set: function(e) {
                this.prop(ie, e);
            }
        }, {
            key: "longitude",
            get: function() {
                return this.prop(oe);
            },
            set: function(e) {
                this.prop(oe, e);
            }
        }, {
            key: "elevation",
            get: function() {
                return this.prop(re);
            },
            set: function(e) {
                this.prop(re, e);
            }
        }, {
            key: "timeZoneId",
            get: function() {
                return this.prop(ce);
            },
            set: function(e) {
                this.prop(ce, e);
            }
        } ]), n;
    }(), he = "aggregation", fe = "combiningType", de = "dataPath", ye = "endDate", pe = "locationIds", ve = "location", me = "metadataFilter", ge = "mostRecent", ke = "nodeIdMaps", Ue = "nodeIds", be = "partialAggregation", Ae = "sourceIdMaps", we = "sourceIds", Ie = "startDate", Se = "userIds", De = "withoutTotalResultsCount";
    var Me = function() {
        p(n, te);
        var t = k(n);
        function n(e) {
            return f(this, n), t.call(this, e);
        }
        return y(n, [ {
            key: "nodeId",
            get: function() {
                var e = this.nodeIds;
                return Array.isArray(e) && 0 < e.length ? e[0] : null;
            },
            set: function(e) {
                this.nodeIds = e ? [ e ] : null;
            }
        }, {
            key: "nodeIds",
            get: function() {
                return this.prop(Ue);
            },
            set: function(e) {
                this.prop(Ue, Array.isArray(e) ? e : null);
            }
        }, {
            key: "locationId",
            get: function() {
                var e = this.locationIds;
                return Array.isArray(e) && 0 < e.length ? e[0] : null;
            },
            set: function(e) {
                this.locationIds = e ? [ e ] : null;
            }
        }, {
            key: "locationIds",
            get: function() {
                return this.prop(pe);
            },
            set: function(e) {
                this.prop(pe, Array.isArray(e) ? e : null);
            }
        }, {
            key: "sourceId",
            get: function() {
                var e = this.sourceIds;
                return Array.isArray(e) && 0 < e.length ? e[0] : null;
            },
            set: function(e) {
                this.sourceIds = e ? [ e ] : null;
            }
        }, {
            key: "sourceIds",
            get: function() {
                return this.prop(we);
            },
            set: function(e) {
                this.prop(we, Array.isArray(e) ? e : null);
            }
        }, {
            key: "userId",
            get: function() {
                var e = this.userIds;
                return Array.isArray(e) && 0 < e.length ? e[0] : null;
            },
            set: function(e) {
                this.userIds = e ? [ e ] : null;
            }
        }, {
            key: "userIds",
            get: function() {
                return this.prop(Se);
            },
            set: function(e) {
                this.prop(Se, Array.isArray(e) ? e : null);
            }
        }, {
            key: "mostRecent",
            get: function() {
                return !!this.prop(ge);
            },
            set: function(e) {
                this.prop(ge, !!e);
            }
        }, {
            key: "startDate",
            get: function() {
                return this.prop(Ie);
            },
            set: function(e) {
                this.prop(Ie, e);
            }
        }, {
            key: "endDate",
            get: function() {
                return this.prop(ye);
            },
            set: function(e) {
                this.prop(ye, e);
            }
        }, {
            key: "dataPath",
            get: function() {
                return this.prop(de);
            },
            set: function(e) {
                this.prop(de, e);
            }
        }, {
            key: "aggregation",
            get: function() {
                return this.prop(he);
            },
            set: function(e) {
                this.prop(he, e instanceof M ? e : null);
            }
        }, {
            key: "partialAggregation",
            get: function() {
                return this.prop(be);
            },
            set: function(e) {
                this.prop(be, e instanceof M ? e : null);
            }
        }, {
            key: "tags",
            get: function() {
                return this.prop("tags");
            },
            set: function(e) {
                this.prop("tags", Array.isArray(e) ? e : null);
            }
        }, {
            key: "location",
            get: function() {
                return this.prop(ve);
            },
            set: function(e) {
                this.prop(ve, e instanceof le ? e : null);
            }
        }, {
            key: "query",
            get: function() {
                return this.prop("query");
            },
            set: function(e) {
                this.prop("query", e);
            }
        }, {
            key: "metadataFilter",
            get: function() {
                return this.prop(me);
            },
            set: function(e) {
                this.prop(me, e);
            }
        }, {
            key: "withoutTotalResultsCount",
            get: function() {
                return this.prop(De);
            },
            set: function(e) {
                this.prop(De, !!e);
            }
        }, {
            key: "combiningType",
            get: function() {
                return this.prop(fe);
            },
            set: function(e) {
                this.prop(fe, e instanceof Q ? e : null);
            }
        }, {
            key: "nodeIdMaps",
            get: function() {
                return this.prop(ke);
            },
            set: function(e) {
                this.prop(ke, e instanceof Map ? e : null);
            }
        }, {
            key: "sourceIdMaps",
            get: function() {
                return this.prop(Ae);
            },
            set: function(e) {
                this.prop(Ae, e instanceof Map ? e : null);
            }
        }, {
            key: "toUriEncoding",
            value: function(e, t) {
                return U(v(n.prototype), "toUriEncoding", this).call(this, e, t || Pe);
            }
        } ]), n;
    }();
    function Pe(e, t) {
        if (e === Ue || e === pe || e === we || e === Se) {
            if (Array.isArray(t) && 1 === t.length) return [ e.substring(0, e.length - 1), t[0] ];
        } else {
            if (e === Ie || e === ye) return [ e, C(t) ];
            if (e === ge && !t) return null;
            if (e === ke || e === Ae) {
                t = function(e) {
                    if (!(e instanceof Map && 0 < e.size)) return null;
                    var t = [], n = I(e);
                    try {
                        for (n.s(); !(r = n.n()).done; ) {
                            var r = r.value;
                            r[1] instanceof Set && t.push("".concat(r[0], ":").concat(Array.from(r[1]).join(",")));
                        }
                    } catch (e) {
                        n.e(e);
                    } finally {
                        n.f();
                    }
                    return t;
                }(t);
                return t ? [ e, t, !0 ] : null;
            }
        }
        return e;
    }
    var Te = function() {
        p(r, S);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (e = n.call(this, e))._key = t, e.constructor === r && Object.freeze(g(e)), 
            e;
        }
        return y(r, [ {
            key: "key",
            get: function() {
                return this._key;
            }
        } ], [ {
            key: "enumValues",
            value: function() {
                return Oe;
            }
        } ]), r;
    }(), Oe = Object.freeze([ new Te("CalculatedAt", "at"), new Te("CalculatedAtDifference", "atd"), new Te("NearestDifference", "diff"), new Te("Difference", "delta"), new Te("DifferenceWithin", "change") ]), Ne = Te.enumsValue(Oe), Ce = function() {
        p(r, S);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (e = n.call(this, e))._bitNumber = t, e.constructor === r && Object.freeze(g(e)), 
            e;
        }
        return y(r, [ {
            key: "bitmaskBitNumber",
            get: function() {
                return this._bitNumber;
            }
        }, {
            key: "bitmaskBitOffset",
            get: function() {
                return this._bitNumber - 1;
            }
        } ], [ {
            key: "enumForBitNumber",
            value: function(e, t) {
                var n = I(t);
                try {
                    for (n.s(); !(r = n.n()).done; ) {
                        var r = r.value;
                        if (r.bitmaskBitNumber == e) return r;
                    }
                } catch (e) {
                    n.e(e);
                } finally {
                    n.f();
                }
                return null;
            }
        }, {
            key: "bitmaskValue",
            value: function(e) {
                var t = 0;
                if (null != e) {
                    var n = I(e);
                    try {
                        for (n.s(); !(r = n.n()).done; ) {
                            var r = r.value;
                            0 <= r.bitmaskBitOffset && (t |= 1 << r.bitmaskBitOffset);
                        }
                    } catch (e) {
                        n.e(e);
                    } finally {
                        n.f();
                    }
                }
                return t;
            }
        }, {
            key: "setForBitmaskEnum",
            value: function(e, t) {
                return r.setForBitmask(e, t.enumValues());
            }
        }, {
            key: "setForBitmask",
            value: function(e, t) {
                if (e < 1) return new Set();
                var n = new Set(), r = I(t);
                try {
                    for (r.s(); !(a = r.n()).done; ) {
                        var i = a.value, a = i.bitmaskBitOffset;
                        0 <= a && 1 == (e >> a & 1) && n.add(i);
                    }
                } catch (e) {
                    r.e(e);
                } finally {
                    r.f();
                }
                return n;
            }
        } ]), r;
    }(), Ee = function() {
        p(r, Ce);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (t = n.call(this, e, t)).constructor === r && Object.freeze(g(t)), 
            t;
        }
        return y(r, [ {
            key: "code",
            get: function() {
                return this.bitmaskBitNumber;
            }
        } ], [ {
            key: "forCode",
            value: function(e) {
                return Ce.enumForBitNumber(e, He);
            }
        }, {
            key: "enumValues",
            value: function() {
                return He;
            }
        } ]), r;
    }(), He = Object.freeze([ new Ee("Unknown", 0), new Ee("Normal", 1), new Ee("Starting", 2), new Ee("Standby", 3), new Ee("Shutdown", 4), new Ee("Fault", 5), new Ee("Disabled", 6), new Ee("Recovery", 7), new Ee("Override", 8) ]), je = Ee.enumsValue(He), _e = function() {
        function i(e, t, n) {
            f(this, i), this.info = e || null, this.propertyInfo = t || null, this.tags = n instanceof Set ? n : Array.isArray(n) ? new Set(n) : null;
        }
        return y(i, [ {
            key: "toJsonEncoding",
            value: function() {
                var e = {}, t = this.info;
                t && (e.m = Re(t));
                t = this.propertyInfo;
                t && (e.pm = Re(t));
                t = this.tags;
                return t && (e.t = Array.from(t)), JSON.stringify(e);
            }
        } ], [ {
            key: "fromJsonEncoding",
            value: function(e) {
                var t, n, r;
                return e && (t = (r = JSON.parse(e)).m ? xe(r.m) : null, n = r.pm ? xe(r.pm) : null, 
                r = Array.isArray(r.t) ? new Set(r.t) : null), new i(t, n, r);
            }
        } ]), i;
    }();
    function Re(e) {
        var t = Object.create(null);
        if (e) {
            var n = I(e);
            try {
                for (n.s(); !(i = n.n()).done; ) {
                    var r = b(i.value, 2), i = r[0], r = r[1];
                    t[i] = r instanceof Map ? Re(r) : r;
                }
            } catch (e) {
                n.e(e);
            } finally {
                n.f();
            }
        }
        return t;
    }
    function xe(e) {
        var t = new Map();
        if (e) for (var n = 0, r = Object.keys(e); n < r.length; n++) {
            var i = r[n], a = e[i];
            t.set(i, "object" === h(a) ? xe(a) : a);
        }
        return t;
    }
    var Le = function() {
        p(n, S);
        var t = k(n);
        function n(e) {
            return f(this, n), (e = t.call(this, e)).constructor === n && Object.freeze(g(e)), 
            e;
        }
        return y(n, null, [ {
            key: "enumValues",
            value: function() {
                return ze;
            }
        } ]), n;
    }(), ze = Object.freeze([ new Le("Unknown"), new Le("Queued"), new Le("Received"), new Le("Executing"), new Le("Declined"), new Le("Completed") ]), Fe = Le.enumsValue(ze), qe = function() {
        p(r, D);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (t = n.call(this, e, t)).constructor === r && Object.freeze(g(t)), 
            t;
        }
        return y(r, [ {
            key: "precision",
            get: function() {
                return this.value;
            }
        } ], [ {
            key: "enumValues",
            value: function() {
                return Ve;
            }
        } ]), r;
    }(), Ve = Object.freeze([ new qe("LatLong", 1), new qe("Block", 5), new qe("Street", 10), new qe("PostalCode", 20), new qe("Locality", 30), new qe("StateOrProvince", 40), new qe("Region", 50), new qe("TimeZone", 60), new qe("Country", 70) ]), We = qe.enumsValue(Ve);
    function Be(e) {
        var t = null;
        return e instanceof Set ? t = 0 < e.size ? e : null : Array.isArray(e) ? t = 0 < e.length ? new Set(e) : null : e && (t = new Set([ e ])), 
        t;
    }
    function Ke(e, t) {
        var n = Be(e), t = Be(t);
        if (null === n && null === t) return null;
        if (null === t) return n;
        if (null === n) return t;
        var r = I(t.values());
        try {
            for (r.s(); !(i = r.n()).done; ) {
                var i = i.value;
                n.add(i);
            }
        } catch (e) {
            r.e(e);
        } finally {
            r.f();
        }
        return n;
    }
    var Qe = function() {
        function s(e, t, n, r, i, a, o, u) {
            f(this, s), this._nodeIds = Be(e), this._sourceIds = Be(t), this._aggregations = Be(n), 
            this._minAggregation = r instanceof M ? r : null, this._locationPrecisions = Be(i), 
            this._minLocationPrecision = a instanceof qe ? a : null, this._nodeMetadataPaths = Be(o), 
            this._userMetadataPaths = Be(u), this.constructor === s && Object.freeze(this);
        }
        return y(s, [ {
            key: "nodeIds",
            get: function() {
                return this._nodeIds;
            }
        }, {
            key: "sourceIds",
            get: function() {
                return this._sourceIds;
            }
        }, {
            key: "aggregations",
            get: function() {
                return this._aggregations;
            }
        }, {
            key: "locationPrecisions",
            get: function() {
                return this._locationPrecisions;
            }
        }, {
            key: "minAggregation",
            get: function() {
                return this._minAggregation;
            }
        }, {
            key: "minLocationPrecision",
            get: function() {
                return this._minLocationPrecision;
            }
        }, {
            key: "nodeMetadataPaths",
            get: function() {
                return this._nodeMetadataPaths;
            }
        }, {
            key: "userMetadataPaths",
            get: function() {
                return this._userMetadataPaths;
            }
        }, {
            key: "toJsonEncoding",
            value: function() {
                var e = {}, t = this.nodeIds;
                return t && (e.nodeIds = Array.from(t)), (t = this.sourceIds) && (e.sourceIds = Array.from(t)), 
                (t = this.aggregations) && (e.aggregations = Array.from(t).map(function(e) {
                    return e.name;
                })), (t = this.locationPrecisions) && (e.locationPrecisions = Array.from(t).map(function(e) {
                    return e.name;
                })), (t = this.minAggregation) && (0 < e.length && (e += "&"), e.minAggregation = t.name), 
                (t = this.minLocationPrecision) && (e.minLocationPrecision = t.name), (t = this.nodeMetadataPaths) && (e.nodeMetadataPaths = Array.from(t)), 
                (t = this.userMetadataPaths) && (e.userMetadataPaths = Array.from(t)), JSON.stringify(e);
            }
        } ]), s;
    }(), Ye = new Map(), Ge = new Map(), Je = function() {
        function e() {
            f(this, e);
        }
        return y(e, [ {
            key: "withPolicy",
            value: function(e) {
                return e && this.withAggregations(e.aggregations).withMinAggregation(e.minAggregation).withLocationPrecisions(e.locationPrecisions).withMinLocationPrecision(e.minLocationPrecision).withNodeIds(e.nodeIds).withSourceIds(e.sourceIds).withNodeMetadataPaths(e.nodeMetadataPaths).withUserMetadataPaths(e.userMetadataPaths), 
                this;
            }
        }, {
            key: "addPolicy",
            value: function(e) {
                return e && (this.addAggregations(e.aggregations).addLocationPrecisions(e.locationPrecisions).addNodeIds(e.nodeIds).addSourceIds(e.sourceIds).addNodeMetadataPaths(e.nodeMetadataPaths).addUserMetadataPaths(e.userMetadataPaths), 
                e.minAggregation && this.withMinAggregation(e.minAggregation), e.minLocationPrecision && this.withMinLocationPrecision(e.minLocationPrecision)), 
                this;
            }
        }, {
            key: "withNodeIds",
            value: function(e) {
                return this.nodeIds = Be(e), this;
            }
        }, {
            key: "addNodeIds",
            value: function(e) {
                return this.withNodeIds(Ke(this.nodeIds, e));
            }
        }, {
            key: "withNodeMetadataPaths",
            value: function(e) {
                return this.nodeMetadataPaths = Be(e), this;
            }
        }, {
            key: "addNodeMetadataPaths",
            value: function(e) {
                return this.withNodeMetadataPaths(Ke(this.nodeMetadataPaths, e));
            }
        }, {
            key: "withUserMetadataPaths",
            value: function(e) {
                return this.userMetadataPaths = Be(e), this;
            }
        }, {
            key: "addUserMetadataPaths",
            value: function(e) {
                return this.withUserMetadataPaths(Ke(this.userMetadataPaths, e));
            }
        }, {
            key: "withSourceIds",
            value: function(e) {
                return this.sourceIds = Be(e), this;
            }
        }, {
            key: "addSourceIds",
            value: function(e) {
                return this.withSourceIds(Ke(this.sourceIds, e));
            }
        }, {
            key: "withAggregations",
            value: function(e) {
                return this.aggregations = Be(e), this;
            }
        }, {
            key: "addAggregations",
            value: function(e) {
                return this.withAggregations(Ke(this.aggregations, e));
            }
        }, {
            key: "withLocationPrecisions",
            value: function(e) {
                return this.locationPrecisions = Be(e), this;
            }
        }, {
            key: "addLocationPrecisions",
            value: function(e) {
                return this.withLocationPrecisions(Ke(this.locationPrecisions, e));
            }
        }, {
            key: "withMinAggregation",
            value: function(e) {
                return this.minAggregation = e, this;
            }
        }, {
            key: "buildAggregations",
            value: function() {
                var e = this.minAggregation, t = this.aggregations;
                return !e && t && 0 < t.size ? t : e ? M.minimumEnumSet(e, Ye) : null;
            }
        }, {
            key: "withMinLocationPrecision",
            value: function(e) {
                return this.minLocationPrecision = e, this;
            }
        }, {
            key: "buildLocationPrecisions",
            value: function() {
                var e = this.minLocationPrecision, t = this.locationPrecisions;
                return !e && t && 0 < t.size ? t : e ? qe.minimumEnumSet(e, Ge) : null;
            }
        }, {
            key: "build",
            value: function() {
                return new Qe(this.nodeIds, this.sourceIds, this.buildAggregations(), this.minAggregation, this.buildLocationPrecisions(), this.minLocationPrecision, this.nodeMetadataPaths, this.userMetadataPaths);
            }
        } ]), e;
    }(), Xe = function() {
        p(r, Ce);
        var n = k(r);
        function r(e, t) {
            return f(this, r), (t = n.call(this, e, t)).constructor === r && Object.freeze(g(t)), 
            t;
        }
        return y(r, [ {
            key: "code",
            get: function() {
                return this.bitmaskBitNumber;
            }
        } ], [ {
            key: "forCode",
            value: function(e) {
                return Ce.enumForBitNumber(e, Ze);
            }
        }, {
            key: "enumValues",
            value: function() {
                return Ze;
            }
        } ]), r;
    }(), Ze = Object.freeze([ new Xe("Clear", 1), new Xe("ScatteredClouds", 2), new Xe("Cloudy", 3), new Xe("Fog", 4), new Xe("Drizzle", 5), new Xe("ScatteredShowers", 6), new Xe("Showers", 7), new Xe("Rain", 8), new Xe("Hail", 9), new Xe("ScatteredSnow", 10), new Xe("Snow", 11), new Xe("Storm", 12), new Xe("SevereStorm", 13), new Xe("Thunder", 14), new Xe("Windy", 15), new Xe("Hazy", 16), new Xe("Tornado", 17), new Xe("Hurricane", 18), new Xe("Dusty", 19) ]), $e = Xe.enumsValue(Ze);
    var et = function() {
        function t(e) {
            f(this, t), this.mappings = {}, this.mappingNames = [], e && this.putAll(e);
        }
        return y(t, [ {
            key: "add",
            value: function(e, t) {
                return tt(this, e, t);
            }
        }, {
            key: "put",
            value: function(e, t) {
                return tt(this, e, t, !0);
            }
        }, {
            key: "putAll",
            value: function(e) {
                for (var t in e) e.hasOwnProperty(t) && tt(this, t, e[t], !0);
                return this;
            }
        }, {
            key: "value",
            value: function(e) {
                e = e.toLowerCase(), e = this.mappings[e];
                return e ? e.val : void 0;
            }
        }, {
            key: "firstValue",
            value: function(e) {
                e = this.value(e);
                return e && 0 < e.length ? e[0] : void 0;
            }
        }, {
            key: "clear",
            value: function() {
                return this.mappingNames.length = 0, this.mappings = {}, this;
            }
        }, {
            key: "remove",
            value: function(e) {
                var t = e.toLowerCase(), n = this.mappingNames.indexOf(t), e = this.mappings[t];
                return e && (delete this.mappings[t], this.mappingNames.splice(n, 1)), e ? e.val : void 0;
            }
        }, {
            key: "size",
            value: function() {
                return this.mappingNames.length;
            }
        }, {
            key: "isEmpty",
            value: function() {
                return this.size() < 1;
            }
        }, {
            key: "containsKey",
            value: function(e) {
                return void 0 !== this.value(e);
            }
        }, {
            key: "keySet",
            value: function() {
                for (var e = [], t = this.size(), n = 0; n < t; n += 1) e.push(this.mappings[this.mappingNames[n]].key);
                return e;
            }
        } ]), t;
    }();
    function tt(e, t, n, r) {
        if (void 0 === n) return e;
        var i = t.toLowerCase(), a = e.mappings[i];
        if (a || (a = {
            key: t,
            val: []
        }, e.mappings[i] = a, e.mappingNames.push(i)), r && (a.val.length = 0), Array.isArray(n)) for (var o = n.length, u = 0; u < o; u += 1) a.val.push(n[u]); else a.val.push(n);
        return e;
    }
    var nt = function() {
        function t(e) {
            f(this, t), this.map = {}, void 0 !== e && this.values(e);
        }
        return y(t, [ {
            key: "enabled",
            value: function(e) {
                return void 0 !== e && !!this.map[e];
            }
        }, {
            key: "toggle",
            value: function(e, t) {
                return void 0 === e ? this : (void 0 === t && (t = void 0 === this.map[e]), this.value(e, !0 === t || null));
            }
        }, {
            key: "value",
            value: function(e, t) {
                return 1 === arguments.length ? this.map[e] : (null === t ? (delete this.map[e], 
                this.hasOwnProperty(e) && delete this[e]) : (this.map[e] = t, this.hasOwnProperty(e) || (t = this, 
                e = e, Object.defineProperty(t, e, {
                    enumerable: !0,
                    configurable: !0,
                    get: function() {
                        return i.map[a];
                    },
                    set: (n = i = t, r = a = e, function(e) {
                        n.map[r] = e;
                    })
                }))), this);
                var n, r, i, a;
            }
        }, {
            key: "values",
            value: function(e) {
                if (e) {
                    for (var t in e) e.hasOwnProperty(t) && this.value(t, e[t]);
                    return this;
                }
                return Object.assign({}, this.map);
            }
        } ]), t;
    }();
    var rt = function() {
        p(r, nt);
        var n = k(r);
        function r(e) {
            return f(this, r), n.call(this, (t = e, (e = Object.assign({
                host: "data.solarnetwork.net"
            }, t)).protocol = (t = e.protocol || "https") ? t.replace(/:$/, "") : "https", e.port = e.port || ("https" === e.protocol ? 443 : 80), 
            e.host = e.port && e.hostname ? e.hostname : e.host, e));
            var t;
        }
        return y(r, [ {
            key: "useTls",
            value: function() {
                return "https" === this.value("protocol");
            }
        } ]), r;
    }(), it = Object.freeze({
        GET: "GET",
        HEAD: "HEAD",
        POST: "POST",
        PUT: "PUT",
        PATCH: "PATCH",
        DELETE: "DELETE",
        OPTIONS: "OPTIONS",
        TRACE: "TRACE"
    }), at = Object.freeze({
        APPLICATION_JSON: "application/json",
        APPLICATION_JSON_UTF8: "application/json; charset=UTF-8",
        FORM_URLENCODED: "application/x-www-form-urlencoded",
        FORM_URLENCODED_UTF8: "application/x-www-form-urlencoded; charset=UTF-8"
    }), ot = function() {
        p(t, et);
        var e = k(t);
        function t() {
            return f(this, t), e.call(this);
        }
        return t;
    }();
    function ut(e, t) {
        var n, r, i, a, o, u = {};
        if (void 0 !== e && 0 < e.length) for (r = 0, i = (n = (e = e.match(/^\?/) ? e.substring(1) : e).split("&")).length; r < i; r++) 2 === (o = n[r].split("=", 2)).length && (a = decodeURIComponent(o[0]), 
        o = decodeURIComponent(o[1]), u[a] ? (Array.isArray(u[a]) || (u[a] = [ u[a] ]), 
        u[a].push(o)) : t && t.has(a) ? u[a] = [ o ] : u[a] = o);
        return u;
    }
    Object.defineProperties(ot, {
        ACCEPT: {
            value: "Accept"
        },
        AUTHORIZATION: {
            value: "Authorization"
        },
        CONTENT_MD5: {
            value: "Content-MD5"
        },
        CONTENT_TYPE: {
            value: "Content-Type"
        },
        DATE: {
            value: "Date"
        },
        DIGEST: {
            value: "Digest"
        },
        HOST: {
            value: "Host"
        },
        X_SN_DATE: {
            value: "X-SN-Date"
        }
    });
    var st = {
        urlQueryParse: ut,
        urlQueryEncode: function(e, t) {
            var n, r, i, a, o = "", u = t || encodeURIComponent;
            function s(e, t) {
                o.length && (o += "&"), o += u(e) + "=" + u(t);
            }
            if (e) for (n in e) if (e.hasOwnProperty(n)) if (r = e[n], Array.isArray(r)) for (i = 0, 
            a = r.length; i < a; i++) s(n, r[i]); else s(n, r);
            return o;
        }
    }, ct = function() {
        function n(e, t) {
            f(this, n), this.tokenId = e, this.environment = t || new rt(), this.httpHeaders = new ot(), 
            this.parameters = new et(), this.forceHostPort = !1, this.reset();
        }
        return y(n, [ {
            key: "reset",
            value: function() {
                this.contentDigest = null;
                var e = this.environment.host;
                return this.httpHeaders.clear(), this.parameters.clear(), this.signedHttpHeaders([]).method(it.GET).host(e).path("/").date(new Date());
            }
        }, {
            key: "saveSigningKey",
            value: function(e) {
                return this.key(this.computeSigningKey(e), this.requestDate), this;
            }
        }, {
            key: "key",
            value: function(e, t) {
                if (void 0 === e) return this.signingKey;
                this.signingKey = e;
                t = new Date((t || this.requestDate).getTime() + 6048e5);
                return t.setUTCHours(0), t.setUTCMinutes(0), t.setUTCSeconds(0), t.setUTCMilliseconds(0), 
                this.signingKeyExpiration = t, this;
            }
        }, {
            key: "signingKeyExpirationDate",
            get: function() {
                return this.signingKeyExpiration;
            }
        }, {
            key: "signingKeyValid",
            get: function() {
                return !!(this.signingKey && this.signingKeyExpiration instanceof Date && Date.now() < this.signingKeyExpiration.getTime());
            }
        }, {
            key: "method",
            value: function(e) {
                return this.httpMethod = e, this;
            }
        }, {
            key: "host",
            value: function(e) {
                return this.forceHostPort && e.indexOf(":") < 0 && 80 != this.environment.port && (e += ":" + this.environment.port), 
                this.httpHeaders.put(ot.HOST, e), this;
            }
        }, {
            key: "path",
            value: function(e) {
                return this.requestPath = e, this;
            }
        }, {
            key: "url",
            value: function(e, t) {
                var n = s.parse(e), e = n.host;
                return !n.port || ("https" !== n.scheme && "wss" !== n.scheme || 443 === n.port) && ("http" !== n.scheme && "ws" !== n.scheme || 80 === n.port) || (e += ":" + n.port), 
                n.query && this.queryParams(ut(n.query)), t || this.host(e), this.path(n.path);
            }
        }, {
            key: "contentType",
            value: function(e) {
                return this.httpHeaders.put(ot.CONTENT_TYPE, e), this;
            }
        }, {
            key: "date",
            value: function(e) {
                return this.requestDate = e || new Date(), this;
            }
        }, {
            key: "requestDateHeaderValue",
            get: function() {
                return this.requestDate.toUTCString();
            }
        }, {
            key: "useSnDate",
            get: function() {
                var e = this.signedHeaderNames;
                return 0 <= (Array.isArray(e) ? e.findIndex(lt(ot.X_SN_DATE)) : -1) || this.httpHeaders.containsKey(ot.X_SN_DATE);
            },
            set: function(e) {
                var t = this.signedHeaderNames, n = Array.isArray(t) ? t.findIndex(lt(ot.X_SN_DATE)) : -1;
                e && n < 0 ? (t = t ? t.concat(ot.X_SN_DATE) : [ ot.X_SN_DATE ], this.signedHeaderNames = t) : !e && 0 <= n && (t.splice(n, 1), 
                this.signedHeaderNames = t), this.httpHeaders.remove(ot.X_SN_DATE);
            }
        }, {
            key: "snDate",
            value: function(e) {
                return this.useSnDate = e, this;
            }
        }, {
            key: "header",
            value: function(e, t) {
                return this.httpHeaders.put(e, t), this;
            }
        }, {
            key: "headers",
            value: function(e) {
                return this.httpHeaders = e, this;
            }
        }, {
            key: "queryParams",
            value: function(e) {
                return e instanceof et ? this.parameters = e : this.parameters.putAll(e), this;
            }
        }, {
            key: "signedHttpHeaders",
            value: function(e) {
                return this.signedHeaderNames = e, this;
            }
        }, {
            key: "contentSHA256",
            value: function(e) {
                e = "string" == typeof e ? i.parse(e) : e;
                return this.contentDigest = e, this;
            }
        }, {
            key: "computeContentDigest",
            value: function(e) {
                e = u(e);
                return this.contentSHA256(e), this.header("Digest", "sha-256=" + r.stringify(e)), 
                this;
            }
        }, {
            key: "canonicalQueryParameters",
            value: function() {
                var e = this.parameters.keySet();
                if (e.length < 1) return "";
                e.sort();
                for (var t = e.length, n = !0, r = "", i = 0; i < t; i += 1) for (var a = e[i], o = this.parameters.value(a), u = o.length, s = 0; s < u; s += 1) n ? n = !1 : r += "&", 
                r += ft(a) + "=" + ft(o[s]);
                return r;
            }
        }, {
            key: "canonicalHeaders",
            value: function(e) {
                for (var t, n = "", r = e.length, i = 0; i < r; i += 1) n += (t = e[i]) + ":" + ((t = "date" === t || "x-sn-date" === t ? this.requestDate.toUTCString() : this.httpHeaders.firstValue(t)) ? t.trim() : "") + "\n";
                return n;
            }
        }, {
            key: "canonicalSignedHeaderNames",
            value: function(e) {
                return e.join(";");
            }
        }, {
            key: "canonicalContentSHA256",
            value: function() {
                return this.contentDigest ? i.stringify(this.contentDigest) : n.EMPTY_STRING_SHA256_HEX;
            }
        }, {
            key: "canonicalHeaderNames",
            value: function() {
                var e = this.httpHeaders, t = this.signedHeaderNames, n = new et();
                return n.put(ot.HOST, !0), this.useSnDate ? n.put(ot.X_SN_DATE, !0) : n.put(ot.DATE, !0), 
                e.containsKey(ot.CONTENT_MD5) && n.put(ot.CONTENT_MD5, !0), e.containsKey(ot.CONTENT_TYPE) && n.put(ot.CONTENT_TYPE, !0), 
                e.containsKey(ot.DIGEST) && n.put(ot.DIGEST, !0), t && 0 < t.length && t.forEach(function(e) {
                    return n.put(e, !0);
                }), function(e) {
                    for (var t = [], n = e.length, r = 0; r < n; r += 1) t.push(e[r].toLowerCase());
                    return t.sort(), t;
                }(n.keySet());
            }
        }, {
            key: "buildCanonicalRequestData",
            value: function() {
                return this.computeCanonicalRequestData(this.canonicalHeaderNames());
            }
        }, {
            key: "computeCanonicalRequestData",
            value: function(e) {
                var t = this.httpMethod + "\n";
                return t += this.requestPath + "\n", t += this.canonicalQueryParameters() + "\n", 
                t += this.canonicalHeaders(e), t += this.canonicalSignedHeaderNames(e) + "\n", t += this.canonicalContentSHA256();
            }
        }, {
            key: "computeSigningKey",
            value: function(e) {
                var t = _(this.requestDate);
                return a("snws2_request", a(t, "SNWS2" + e));
            }
        }, {
            key: "computeSignatureData",
            value: function(e) {
                return "SNWS2-HMAC-SHA256\n" + _(this.requestDate, !0) + "\n" + i.stringify(u(e));
            }
        }, {
            key: "buildWithKey",
            value: function(e) {
                var t = this.canonicalHeaderNames(), n = this.computeCanonicalRequestData(t), n = this.computeSignatureData(n), e = i.stringify(a(n, e));
                return "SNWS2 Credential=" + this.tokenId + ",SignedHeaders=" + t.join(";") + ",Signature=" + e;
            }
        }, {
            key: "build",
            value: function(e) {
                e = this.computeSigningKey(e);
                return this.buildWithKey(e);
            }
        }, {
            key: "buildWithSavedKey",
            value: function() {
                return this.buildWithKey(this.signingKey);
            }
        } ]), n;
    }();
    function lt(e) {
        var t = e.toLowerCase();
        return function(e) {
            return t === e.toString().toLowerCase();
        };
    }
    function ht(e) {
        return "%" + e.charCodeAt(0).toString(16).toUpperCase();
    }
    function ft(e) {
        return encodeURIComponent(e).replace(/[!'()*]/g, ht);
    }
    Object.defineProperties(ct, {
        EMPTY_STRING_SHA256_HEX: {
            value: "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
        },
        SNWS2_AUTH_SCHEME: {
            value: "SNWS2"
        }
    });
    function dt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "locationId",
                get: function() {
                    var e = this.locationIds;
                    return Array.isArray(e) && 0 < e.length ? e[0] : null;
                },
                set: function(e) {
                    this.parameter(Mt, e ? [ e ] : null);
                }
            }, {
                key: "locationIds",
                get: function() {
                    return this.parameter(Mt);
                },
                set: function(e) {
                    this.parameter(Mt, e);
                }
            }, {
                key: "sourceId",
                get: function() {
                    var e = this.sourceIds;
                    return Array.isArray(e) && 0 < e.length ? e[0] : null;
                },
                set: function(e) {
                    this.parameter(Pt, e && [ e ]);
                }
            }, {
                key: "sourceIds",
                get: function() {
                    return this.parameter(Pt);
                },
                set: function(e) {
                    this.parameter(Pt, e);
                }
            }, {
                key: "findLocationsUrl",
                value: function(e, t, n) {
                    return this.baseUrl() + "/location?" + e.toUriEncodingWithSorting(t, n);
                }
            } ]), t;
        }();
    }
    function yt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "publicQuery",
                get: function() {
                    return !!this.env(Ct);
                },
                set: function(e) {
                    this.env(Ct, !!e);
                }
            }, {
                key: "baseUrl",
                value: function() {
                    var e = this.env(Ot) || Tt, t = this.publicQuery;
                    return this.hostUrl() + e + Nt + (t ? "/pub" : "/sec");
                }
            } ]), t;
        }();
    }
    function pt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "baseLocationDatumMetadataUrl",
                value: function(e) {
                    return this.baseUrl() + "/location/meta/" + (e || this.locationId);
                }
            }, {
                key: "locationDatumMetadataUrlWithSource",
                value: function(e, t) {
                    var n = this.baseLocationDatumMetadataUrl(e), e = t || this.sourceId;
                    return null !== t && e && (n += "?sourceId=" + encodeURIComponent(e)), n;
                }
            }, {
                key: "viewLocationDatumMetadataUrl",
                value: function(e, t) {
                    return this.locationDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "addLocationDatumMetadataUrl",
                value: function(e, t) {
                    return this.locationDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "replaceLocationDatumMetadataUrl",
                value: function(e, t) {
                    return this.locationDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "deleteLocationDatumMetadataUrl",
                value: function(e, t) {
                    return this.locationDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "findLocationDatumMetadataUrl",
                value: function(e, t, n) {
                    var r = this.baseUrl() + "/location/meta", n = e.toUriEncodingWithSorting(t, n);
                    return 0 < n.length && (r += "?" + n), r;
                }
            } ]), t;
        }();
    }
    function vt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "reportableIntervalUrl",
                value: function(e, t) {
                    var n = this.baseUrl() + "/location/datum/interval?locationId=" + (e || this.locationId), e = t || this.sourceId;
                    return null !== t && e && (n += "&sourceId=" + encodeURIComponent(e)), n;
                }
            }, {
                key: "availableSourcesUrl",
                value: function(e, t, n) {
                    e = this.baseUrl() + "/location/datum/sources?locationId=" + (e || this.locationId);
                    return t instanceof Date && (e += "&start=" + encodeURIComponent(C(t))), n instanceof Date && (e += "&end=" + encodeURIComponent(C(n))), 
                    e;
                }
            }, {
                key: "listDatumUrl",
                value: function(e, t, n) {
                    var r = this.baseUrl() + "/location/datum/list", n = e ? e.toUriEncodingWithSorting(t, n) : "";
                    return 0 < n.length && (r += "?" + n), r;
                }
            }, {
                key: "mostRecentDatumUrl",
                value: function(e, t, n) {
                    var r = this.baseUrl() + "/location/datum/mostRecent", n = e ? e.toUriEncodingWithSorting(t, n) : "";
                    return 0 < n.length && (r += "?" + n), r;
                }
            } ]), t;
        }();
    }
    function mt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "nodeId",
                get: function() {
                    var e = this.nodeIds;
                    return Array.isArray(e) && 0 < e.length ? e[0] : null;
                },
                set: function(e) {
                    this.parameter(jt, e ? [ e ] : null);
                }
            }, {
                key: "nodeIds",
                get: function() {
                    return this.parameter(jt);
                },
                set: function(e) {
                    this.parameter(jt, e);
                }
            }, {
                key: "sourceId",
                get: function() {
                    var e = this.sourceIds;
                    return Array.isArray(e) && 0 < e.length ? e[0] : null;
                },
                set: function(e) {
                    this.parameter(_t, e && [ e ]);
                }
            }, {
                key: "sourceIds",
                get: function() {
                    return this.parameter(_t);
                },
                set: function(e) {
                    this.parameter(_t, e);
                }
            }, {
                key: "listAllNodeIdsUrl",
                value: function() {
                    return this.baseUrl() + "/nodes";
                }
            } ]), t;
        }();
    }
    function gt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "baseNodeDatumMetadataUrl",
                value: function(e) {
                    return this.baseUrl() + "/datum/meta/" + (e || this.nodeId);
                }
            }, {
                key: "nodeDatumMetadataUrlWithSource",
                value: function(e, t) {
                    var n = this.baseNodeDatumMetadataUrl(e), e = t || this.sourceId;
                    return null !== t && e && (n += "?sourceId=" + encodeURIComponent(e)), n;
                }
            }, {
                key: "viewNodeDatumMetadataUrl",
                value: function(e, t) {
                    return this.nodeDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "addNodeDatumMetadataUrl",
                value: function(e, t) {
                    return this.nodeDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "replaceNodeDatumMetadataUrl",
                value: function(e, t) {
                    return this.nodeDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "deleteNodeDatumMetadataUrl",
                value: function(e, t) {
                    return this.nodeDatumMetadataUrlWithSource(e, t);
                }
            }, {
                key: "findNodeDatumMetadataUrl",
                value: function(e, t, n, r) {
                    var i = this.baseNodeDatumMetadataUrl(e), a = "", e = t || this.sourceId;
                    return null !== t && e && (a += "sourceId=" + encodeURIComponent(e)), Array.isArray(n) && n.forEach(function(e, t) {
                        e instanceof ee && (0 < a.length && (a += "&"), a += e.toUriEncoding(t));
                    }), r instanceof $ && (0 < a.length && (a += "&"), a += r.toUriEncoding()), 0 < a.length && (i += "?" + a), 
                    i;
                }
            }, {
                key: "userMetadataUrl",
                value: function(e) {
                    var t = this.baseUrl() + "/users/meta", n = e || this.userId;
                    return (n = Array.isArray(n) ? 0 < n.length ? n[0] : null : n) && null !== e && (t += "/" + n), 
                    t;
                }
            }, {
                key: "viewUserMetadataUrl",
                value: function(e) {
                    return this.userMetadataUrl(e);
                }
            } ]), t;
        }();
    }
    function kt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "reportableIntervalUrl",
                value: function(e, t) {
                    e = this.baseUrl() + "/range/interval?nodeId=" + (e || this.nodeId), t = t || this.sourceIds;
                    return Array.isArray(t) && 0 < t.length && (e += "&sourceIds=" + t.map(function(e) {
                        return encodeURIComponent(e);
                    }).join(",")), e;
                }
            }, {
                key: "availableSourcesUrl",
                value: function(e, t) {
                    e = e ? new Me(e) : this.datumFilter();
                    void 0 !== t && e.prop("withNodeIds", !!t);
                    t = this.baseUrl() + "/range/sources", e = e.toUriEncoding();
                    return 0 < e.length && (t += "?" + e), t;
                }
            }, {
                key: "listDatumUrl",
                value: function(e, t, n) {
                    var r = this.baseUrl() + "/datum/list", n = (e || this.datumFilter()).toUriEncodingWithSorting(t, n);
                    return 0 < n.length && (r += "?" + n), r;
                }
            }, {
                key: "datumReadingUrl",
                value: function(e, t, n, r, i) {
                    var a = this.baseUrl() + "/datum/reading", e = new Me(e) || this.datumFilter();
                    e.prop("readingType", t.name), n && e.prop("tolerance", n);
                    i = e.toUriEncodingWithSorting(r, i);
                    return 0 < i.length && (a += "?" + i), a;
                }
            }, {
                key: "datumFilter",
                value: function() {
                    var e = new Me(), t = this.nodeIds;
                    return t && (e.nodeIds = t), (t = this.sourceIds) && (e.sourceIds = t), e;
                }
            }, {
                key: "mostRecentDatumUrl",
                value: function(e, t, n) {
                    var r = this.baseUrl() + "/datum/mostRecent", n = (e || this.datumFilter()).toUriEncodingWithSorting(t, n);
                    return 0 < n.length && (r += "?" + n), r;
                }
            } ]), t;
        }();
    }
    function Ut(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "userId",
                get: function() {
                    var e = this.parameter(qt);
                    return Array.isArray(e) && 0 < e.length ? e[0] : null;
                },
                set: function(e) {
                    this.parameter(qt, [ e ]);
                }
            }, {
                key: "userIds",
                get: function() {
                    return this.parameter(qt);
                },
                set: function(e) {
                    this.parameter(qt, e);
                }
            }, {
                key: "baseUrl",
                value: function() {
                    var e = this.env(zt) || Lt;
                    return U(v(t.prototype), "baseUrl", this).call(this) + e + Ft;
                }
            }, {
                key: "whoamiUrl",
                value: function() {
                    return this.baseUrl() + "/whoami";
                }
            }, {
                key: "viewNodesUrl",
                value: function() {
                    return this.baseUrl() + "/nodes";
                }
            }, {
                key: "viewPendingNodesUrl",
                value: function() {
                    return this.baseUrl() + "/nodes/pending";
                }
            }, {
                key: "viewArchivedNodesUrl",
                value: function() {
                    return this.baseUrl() + "/nodes/archived";
                }
            }, {
                key: "updateNodeArchivedStatusUrl",
                value: function(e, t) {
                    e = Array.isArray(e) ? e : e ? [ e ] : this.nodeIds;
                    return this.baseUrl() + "/nodes/archived?nodeIds=" + e.join(",") + "&archived=" + (t ? "true" : "false");
                }
            }, {
                key: "nimAuthorizeUrl",
                value: function() {
                    return this.baseUrl() + "/user/nim/authorize";
                }
            } ]), t;
        }();
    }
    function bt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "viewInstructionUrl",
                value: function(e) {
                    return this.baseUrl() + "/instr/view?id=" + encodeURIComponent(e);
                }
            }, {
                key: "viewActiveInstructionsUrl",
                value: function(e) {
                    return this.baseUrl() + "/instr/viewActive?nodeId=" + (e || this.nodeId);
                }
            }, {
                key: "viewPendingInstructionsUrl",
                value: function(e) {
                    return this.baseUrl() + "/instr/viewPending?nodeId=" + (e || this.nodeId);
                }
            }, {
                key: "updateInstructionStateUrl",
                value: function(e, t) {
                    return this.baseUrl() + "/instr/updateState?id=" + encodeURIComponent(e) + "&state=" + encodeURIComponent(t.name);
                }
            }, {
                key: "urlEncodeInstructionParameters",
                value: function(e) {
                    var t, n, r = "";
                    if (Array.isArray(e)) for (t = 0, n = e.length; t < n; t += 1) 0 < r.length && (r += "&"), 
                    r += encodeURIComponent("parameters[" + t + "].name") + "=" + encodeURIComponent(e[t].name) + "&" + encodeURIComponent("parameters[" + t + "].value") + "=" + encodeURIComponent(e[t].value);
                    return r;
                }
            }, {
                key: "queueInstructionUrl",
                value: function(e, t, n) {
                    n = this.baseUrl() + "/instr/add/" + encodeURIComponent(e) + "?nodeId=" + (n || this.nodeId);
                    return Array.isArray(t) && 0 < t.length && (n += "&" + this.urlEncodeInstructionParameters(t)), 
                    n;
                }
            }, {
                key: "queueInstructionsUrl",
                value: function(e, t, n) {
                    n = this.baseUrl() + "/instr/add/" + encodeURIComponent(e) + "?nodeIds=" + (Array.isArray(n) && 0 < n.length ? n.join(",") : Array.isArray(this.nodeIds) ? this.nodeIds.join(",") : "");
                    return Array.isArray(t) && 0 < t.length && (n += "&" + this.urlEncodeInstructionParameters(t)), 
                    n;
                }
            } ], [ {
                key: "instructionParameter",
                value: function(e, t) {
                    return {
                        name: e,
                        value: t
                    };
                }
            } ]), t;
        }();
    }
    function At(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "viewNodeMetadataUrl",
                value: function(e) {
                    return this.baseUrl() + "/nodes/meta/" + (e || this.nodeId);
                }
            }, {
                key: "addNodeMetadataUrl",
                value: function(e) {
                    return this.viewNodeMetadataUrl(e);
                }
            }, {
                key: "replaceNodeMetadataUrl",
                value: function(e) {
                    return this.viewNodeMetadataUrl(e);
                }
            }, {
                key: "deleteNodeMetadataUrl",
                value: function(e) {
                    return this.viewNodeMetadataUrl(e);
                }
            }, {
                key: "findNodeMetadataUrl",
                value: function(e, t, n) {
                    var r = Array.isArray(e) ? e : e ? [ e ] : null !== e ? this.nodeIds : void 0, e = this.baseUrl() + "/nodes/meta", i = "";
                    return Array.isArray(r) && (i += "nodeIds=" + r.join(",")), Array.isArray(t) && t.forEach(function(e, t) {
                        e instanceof ee && (0 < i.length && (i += "&"), i += e.toUriEncoding(t));
                    }), n instanceof $ && (0 < i.length && (i += "&"), i += n.toUriEncoding()), 0 < i.length && (e += "?" + i), 
                    e;
                }
            } ]), t;
        }();
    }
    function wt(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "listAllAuthTokensUrl",
                value: function() {
                    return this.baseUrl() + "/user/auth-tokens";
                }
            }, {
                key: "generateAuthTokenUrl",
                value: function(e) {
                    return this.baseUrl() + "/user/auth-tokens/generate/" + e.name;
                }
            }, {
                key: "authTokenUrl",
                value: function(e) {
                    return this.baseUrl() + "/user/auth-tokens/" + encodeURIComponent(e);
                }
            }, {
                key: "deleteAuthTokenUrl",
                value: function(e) {
                    return this.authTokenUrl(e);
                }
            }, {
                key: "updateAuthTokenSecurityPolicyUrl",
                value: function(e) {
                    return this.authTokenUrl(e);
                }
            }, {
                key: "replaceAuthTokenSecurityPolicyUrl",
                value: function(e) {
                    return this.authTokenUrl(e);
                }
            }, {
                key: "updateAuthTokenStatusUrl",
                value: function(e, t) {
                    return this.authTokenUrl(e) + "?status=" + encodeURIComponent(t.name);
                }
            } ]), t;
        }();
    }
    function It(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "userDatumAuxiliaryBaseUrl",
                value: function() {
                    return this.baseUrl() + "/datum/auxiliary";
                }
            }, {
                key: "listUserDatumAuxiliaryUrl",
                value: function(e) {
                    var t = this.userDatumAuxiliaryBaseUrl();
                    return !e || 0 < (e = e.toUriEncoding()).length && (t += "?" + e), t;
                }
            }, {
                key: "userDatumAuxiliaryIdUrl",
                value: function(e, t, n, r) {
                    if (r && 0 <= r.indexOf("/")) return this.userDatumAuxiliaryIdQueryUrl(e, t, n, r);
                    var i = this.userDatumAuxiliaryBaseUrl();
                    return i += "/" + encodeURIComponent(e.name || e) + "/" + encodeURIComponent(t) + "/" + encodeURIComponent(O(n)) + "/" + encodeURIComponent(r);
                }
            }, {
                key: "userDatumAuxiliaryIdQueryUrl",
                value: function(e, t, n, r) {
                    var i = this.userDatumAuxiliaryBaseUrl(), r = new te({
                        type: e,
                        nodeId: t,
                        date: O(n),
                        sourceId: r
                    }).toUriEncoding();
                    return 0 < r.length && (i += "?" + r), i;
                }
            }, {
                key: "storeUserDatumAuxiliaryUrl",
                value: function(e, t, n, r) {
                    return this.userDatumAuxiliaryIdUrl(e, t, n, r);
                }
            }, {
                key: "viewUserDatumAuxiliaryUrl",
                value: function(e, t, n, r) {
                    return this.userDatumAuxiliaryIdUrl(e, t, n, r);
                }
            }, {
                key: "deleteUserDatumAuxiliaryUrl",
                value: function(e, t, n, r) {
                    return this.userDatumAuxiliaryIdUrl(e, t, n, r);
                }
            } ]), t;
        }();
    }
    function St(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "findUserMetadataUrl",
                value: function(e) {
                    var t = this.baseUrl() + "/users/meta";
                    return !e || 0 < (e = e.toUriEncoding()).length && (t += "?" + e), t;
                }
            }, {
                key: "userMetadataUrl",
                value: function(e) {
                    var t = this.baseUrl() + "/users/meta", n = e || this.userId;
                    return (n = Array.isArray(n) ? 0 < n.length ? n[0] : null : n) && null !== e && (t += "/" + n), 
                    t;
                }
            }, {
                key: "viewUserMetadataUrl",
                value: function(e) {
                    return this.userMetadataUrl(e);
                }
            }, {
                key: "addUserMetadataUrl",
                value: function(e) {
                    return this.userMetadataUrl(e);
                }
            }, {
                key: "replaceUserMetadataUrl",
                value: function(e) {
                    return this.userMetadataUrl(e);
                }
            }, {
                key: "deleteUserMetadataUrl",
                value: function(e) {
                    return this.userMetadataUrl(e);
                }
            } ]), t;
        }();
    }
    var Dt = function() {
        function t(e) {
            f(this, t);
            e = e instanceof rt ? e : new rt(e);
            this.environment = e, this._parameters = new nt();
        }
        return y(t, [ {
            key: "parameters",
            get: function() {
                return this._parameters;
            }
        }, {
            key: "env",
            value: function() {
                var e;
                return (e = this.environment).value.apply(e, arguments);
            }
        }, {
            key: "parameter",
            value: function() {
                var e;
                return (e = this._parameters).value.apply(e, arguments);
            }
        }, {
            key: "hostUrl",
            value: function() {
                var e = this.environment.useTls(), t = this.environment.value("proxyHost") || this.environment.value("host"), n = +(this.environment.value("proxyPort") || this.environment.value("port")), t = "http" + (e ? "s" : "") + "://" + t;
                return (e && 0 < n && 443 != n || !e && 0 < n && 80 != n) && (t += ":" + n), t;
            }
        }, {
            key: "hostWebSocketUrl",
            value: function() {
                var e = this.environment.useTls(), t = this.environment.value("proxyHost") || this.environment.value("host"), n = +(this.environment.value("proxyPort") || this.environment.value("port")), t = "ws" + (e ? "s" : "") + "://" + t;
                return (e && 0 < n && 443 != n || !e && 0 < n && 80 != n) && (t += ":" + n), t;
            }
        }, {
            key: "baseUrl",
            value: function() {
                return this.hostUrl();
            }
        }, {
            key: "resolveTemplatePath",
            value: function(e) {
                return this.hostUrl() + this.resolveTemplateUrl(e);
            }
        }, {
            key: "resolveTemplateUrl",
            value: function(e) {
                return t.resolveTemplateUrl(e, this._parameters);
            }
        } ], [ {
            key: "resolveTemplateUrl",
            value: function(e, n) {
                return e.replace(/\{([^}]+)\}/g, function(e, t) {
                    t = n[t];
                    return void 0 !== t ? encodeURIComponent(t) : "";
                });
            }
        } ]), t;
    }(), Mt = "locationIds", Pt = "sourceIds", Tt = "/solarquery", Ot = "solarQueryPath", Nt = "/api/v1", Ct = "publicQuery", Et = function() {
        p(t, pt(yt(dt(Dt))));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Ht = function() {
        p(t, vt(yt(dt(Dt))));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), jt = "nodeIds", _t = "sourceIds", Rt = function() {
        p(t, gt(yt(mt(Dt))));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), xt = function() {
        p(t, kt(yt(mt(Dt))));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Lt = "/solaruser", zt = "solarUserPath", Ft = "/api/v1/sec", qt = "userIds", Vt = function() {
        p(t, bt(Ut(mt(Dt))));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Wt = Vt.instructionParameter, Bt = function() {
        p(t, At(Ut(mt(Dt))));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Kt = function() {
        p(t, wt(Ut(Dt)));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Qt = function() {
        p(t, It(Ut(Dt)));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Yt = function() {
        p(t, St(Ut(Dt)));
        var e = k(t);
        function t() {
            return f(this, t), e.apply(this, arguments);
        }
        return t;
    }(), Gt = 2;
    function Jt(e) {
        if (!(Gt < e) && console) {
            var t;
            switch (e) {
              case 1:
                t = console.error;
                break;

              case 2:
                t = console.warn;
                break;

              case 3:
                t = console.info;
            }
            if (t = t || console.log) {
                for (var n = arguments.length, r = new Array(1 < n ? n - 1 : 0), i = 1; i < n; i++) r[i - 1] = arguments[i];
                t.apply(void 0, r);
            }
        }
    }
    var Xt = Object.freeze({
        DEBUG: 4,
        INFO: 3,
        WARN: 2,
        ERROR: 1,
        OFF: 0
    }), Zt = function() {
        function e() {
            f(this, e);
        }
        return y(e, null, [ {
            key: "debug",
            value: function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                Jt.apply(void 0, [ 4 ].concat(t));
            }
        }, {
            key: "info",
            value: function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                Jt.apply(void 0, [ 3 ].concat(t));
            }
        }, {
            key: "warn",
            value: function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                Jt.apply(void 0, [ 2 ].concat(t));
            }
        }, {
            key: "error",
            value: function() {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                Jt.apply(void 0, [ 1 ].concat(t));
            }
        } ]), e;
    }();
    Object.defineProperties(Zt, {
        level: {
            get: function() {
                return Gt;
            },
            set: function(e) {
                Gt = "number" == typeof e ? e : 0;
            }
        }
    }), Object.defineProperty(e, "dateParse", {
        enumerable: !0,
        get: function() {
            return t.isoParse;
        }
    }), Object.defineProperty(e, "dateTimeUrlParse", {
        enumerable: !0,
        get: function() {
            return t.isoParse;
        }
    }), e.Aggregation = M, e.Aggregations = T, e.AuthTokenStatus = F, e.AuthTokenStatuses = V, 
    e.AuthTokenType = W, e.AuthTokenTypes = K, e.AuthTokenUrlHelperMixin = function(n) {
        return function() {
            p(t, n);
            var e = k(t);
            function t() {
                return f(this, t), e.apply(this, arguments);
            }
            return y(t, [ {
                key: "refreshTokenV2Url",
                value: function(e) {
                    return this.baseUrl() + "/auth-tokens/refresh/v2?date=" + encodeURIComponent(E(e || new Date()));
                }
            } ]), t;
        }();
    }, e.AuthorizationV2Builder = ct, e.BitmaskEnum = Ce, e.CombiningType = Q, e.CombiningTypes = G, 
    e.ComparableEnum = D, e.Configuration = nt, e.DatumAuxiliaryType = J, e.DatumAuxiliaryTypes = Z, 
    e.DatumFilter = Me, e.DatumReadingType = Te, e.DatumReadingTypes = Ne, e.DeviceOperatingState = Ee, 
    e.DeviceOperatingStates = je, e.Enum = S, e.Environment = rt, e.GeneralMetadata = _e, 
    e.HttpContentType = at, e.HttpHeaders = ot, e.HttpMethod = it, e.InstructionState = Le, 
    e.InstructionStates = Fe, e.Location = le, e.LocationDatumMetadataUrlHelper = Et, 
    e.LocationDatumMetadataUrlHelperMixin = pt, e.LocationDatumUrlHelper = Ht, e.LocationDatumUrlHelperMixin = vt, 
    e.LocationPrecision = qe, e.LocationPrecisions = We, e.LocationUrlHelperMixin = dt, 
    e.Logger = Zt, e.MultiMap = et, e.NodeDatumMetadataUrlHelper = Rt, e.NodeDatumMetadataUrlHelperMixin = gt, 
    e.NodeDatumUrlHelper = xt, e.NodeDatumUrlHelperMixin = kt, e.NodeInstructionUrlHelper = Vt, 
    e.NodeInstructionUrlHelperMixin = bt, e.NodeMetadataUrlHelper = Bt, e.NodeMetadataUrlHelperMixin = At, 
    e.NodeUrlHelperMixin = mt, e.Pagination = $, e.PropMap = te, e.QueryUrlHelperMixin = yt, 
    e.SecurityPolicy = Qe, e.SecurityPolicyBuilder = Je, e.SkyCondition = Xe, e.SkyConditions = $e, 
    e.SolarQueryApiPathV1 = Nt, e.SolarQueryDefaultPath = Tt, e.SolarQueryPathKey = Ot, 
    e.SolarQueryPublicPathKey = Ct, e.SolarUserApiPathV1 = Ft, e.SolarUserDefaultPath = Lt, 
    e.SolarUserPathKey = zt, e.SortDescriptor = ee, e.UrlHelper = Dt, e.UserAuthTokenUrlHelper = Kt, 
    e.UserAuthTokenUrlHelperMixin = wt, e.UserDatumAuxiliaryUrlHelper = Qt, e.UserDatumAuxiliaryUrlHelperMixin = It, 
    e.UserMetadataUrlHelper = Yt, e.UserMetadataUrlHelperMixin = St, e.UserUrlHelperMixin = Ut, 
    e.arrayData = n, e.dateFormat = E, e.dateParser = function(e) {
        return t.isoParse(e) || H(e) || j(e);
    }, e.dateTimeFormat = N, e.dateTimeParse = j, e.dateTimeUrlFormat = C, e.dateUtils = x, 
    e.displayScaleForValue = function(e) {
        var t = 1, e = Math.abs(Number(e));
        return !1 === isNaN(e) && (1e9 <= e ? t = 1e9 : 1e6 <= e ? t = 1e6 : 1e3 <= e && (t = 1e3)), 
        t;
    }, e.displayUnitsForScale = function(e, t) {
        return (1e9 === t ? "G" : 1e6 === t ? "M" : 1e3 === t ? "k" : "") + e;
    }, e.instructionParameter = Wt, e.iso8601Date = _, e.logLevels = Xt, e.nestData = z, 
    e.objectToStringMap = xe, e.seasonForDate = function(e) {
        return (e = e.getUTCMonth ? e.getUTCMonth() : Number(e)) < 2 || 11 === e ? 3 : e < 5 ? 0 : e < 8 ? 1 : 2;
    }, e.stringMapToObject = Re, e.timestampFormat = O, e.timestampParse = H, e.urlQuery = st, 
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
});